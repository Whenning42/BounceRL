# Start of an ubuntu based build container

# glibc = 2.23
FROM ubuntu:16.04

# Install build tools and X11 libs
# - x11
# - xtest
# - xext
# - xinput
ARG DEBIAN_FRONTEND=noninteractive
RUN apt-get update && \
    apt-get install -y \
      build-essential \
      libx11-dev \
      libxtst-dev \
      libgtest-dev \
      pkg-config \
      gcc-multilib \
      g++-multilib \
      ninja-build

RUN apt-get install -y software-properties-common && \
      add-apt-repository ppa:deadsnakes/ppa && \
      apt install -y python3.9

RUN apt-get install -y python3 python3-venv python3-pip
RUN python3.9 -m pip install --upgrade pip==23.0.1

RUN useradd -ms /bin/bash user

RUN mkdir /home/user/bounce_rl
COPY ./ /home/user/bounce_rl/
RUN chown -R user:user /home/user/bounce_rl

WORKDIR /home/user/bounce_rl
# RUN ./build.sh
